import sys
import autotst_wrapper


if len(sys.argv) < 2:
    indices = [
        50, 52, 127, 129, 212, 213, 237, 239, 247, 249, 278, 279, 281, 282, 288, 289,
        # 290, 294, 305, 306, 313, 314, 316, 317, 319, 321, 323, 324, 326, 354, 359, 370, 371,
        # 389, 391, 392, 398, 400, 404, 410, 415, 416, 418, 419, 420, 422, 426, 427, 433, 434,
        # 436, 440, 442, 449, 450, 459, 464, 518, 521, 546, 556, 559, 560, 574, 577, 578, 581,
        # 582, 584, 585, 586, 595, 650, 655, 692, 693, 714, 720, 722, 723, 724, 725, 726, 727,
        # 728, 730, 739, 748, 749, 793, 794, 795, 800, 802, 804, 805, 808, 809, 812, 813, 833,
        # 843, 869, 915, 916, 918, 931, 945, 985, 1003, 1075, 1077, 1085, 1095, 1098, 1103, 1110,
        # 1111, 1114, 1116, 1242, 1287, 1288, 1289, 1290, 1295, 1326, 1328, 1342, 1428, 1522, 1532,
        # 1578, 1646, 1656, 1658, 1665, 1683, 1685, 1688, 1700, 1701, 1714, 1716, 1717, 1721, 1736,
        # 1761, 1766, 1773, 1778, 1810, 1811, 1814, 2240, 2291, 2300, 2303, 2305, 2309, 2313, 2323,
        # 2422, 2424, 2425, 2464, 4697, 4721, 4724, 4727, 4728, 4729, 4732, 4736, 4737, 4738, 4752,
        # 4778, 4779, 4796, 4836, 4890, 4917
    ]
else:
    indices = [int(sys.argv[1])]

for idx in indices:
    if not autotst_wrapper.arkane_reaction_complete(idx):
        autotst_wrapper.setup_opt(idx, 'shell')
        autotst_wrapper.run_opt(idx, 'shell')
        autotst_wrapper.setup_opt(idx, 'center')
        autotst_wrapper.run_opt(idx, 'center')
        autotst_wrapper.setup_opt(idx, 'overall')
        autotst_wrapper.run_opt(idx, 'overall')
        autotst_wrapper.setup_arkane_reaction(idx)
        autotst_wrapper.run_arkane_reaction(idx)
